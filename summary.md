# summary  

## 目次  
1. プロトコル  
2. OSI参照モデル  
3. 物理層  
4. データリンク層
5. ネットワーク層
6. 

### 1. プロトコル  
コンピュータは0と1で動作している。
コンピュータ同士で通信をするときに、お互いがルールを共有する必要がある。  
この通信における共有するルールのことを「プロトコル」という。  

### 2. OSI参照モデル
プロトコルスタックを7層に分割した、コンピュータ通信における概念モデル。  
  
通信プロトコルを階層化することによって、ある階層のプロトコルの実装が、  
別の階層のプロトコルに影響を及ばないようにすることができる。  
- 7, アプリケーション層　　：アプリケーションの種類の規定  
- 6, プレゼンテーション層　：データフォーマットの交換  
- 5, セッション層　　　　　：コネクションの確立や切断。トランスポート層以下の管理  
- 4, トランスポート層　　　：ノード間のデータ転送の管理  
- 3, ネットワーク層　　　　：データ転送を行う機器間のアドレスの管理や経路選択  
- 2, データリンク層　　　　：直接接続された機器間のデータフレームの識別と転送  
- 1, 物理層　　　　　　　　：物理的な接続方法の規定  
  
  
### 3. 物理層
1bit(「0」と「1」) を判別する。
イーサネットフレームにおける、プリアンブルを「データのはじまり」とする。  
```
IEEE802.3
10101010 10101010 10101010 10101010 10101010 10101010 10101011
```  
  
物理層では3.3V以上の電気信号を「1」とする。  
ネットワーク機器としては、リピータハブ(ノンインテリジェンスハブ)が該当する。  
  
  
### 4. データリンク層
同一のネットワークに、コンピュータを複数接続する環境において、  
物理層だけでは「誰宛のデータなのか」を判別することが困難になってしまう。  
  
ここで登場するのが、<strong>「MACアドレス」</strong> 。  
MAC は「Media Access Control」の略。  
  
```
MACアドレスは、NIC(ネットワークインターフェースカード)に割り当てられる固有の識別子。
48ビット(6バイト)で構成されており、16進数表記(4ビット1文字)で、":"区切りとなっている。
- 前半24ビット = ベンダーID
- 後半24ビット = 製品番号

例) Hewlett Packard Enterprise
14:02:EC:00:00:00

IANAによって、ベンダーIDは管理されているため、MACアドレスから機器を特定することは可能。
https://uic.jp/mac/address/1402ec/
```  
  
同一ネットワーク上に同じ識別子でなければ、問題ないためAndroid端末ではMACアドレスをランダムにすることができる。  
仮想環境におけるvNICの場合、ランダムにMACアドレスを生成するため、衝突防止に努めること。  
  
ネットワーク機器としては、スイッチングハブ(以下、スイッチ)がある。  
スイッチは、直接接続されている機器に対して、  
ブロードキャストフレームを流してMACアドレスを学習し、MACアドレステーブルをつくる。  
MACアドレステーブルでデータの受け渡しを行うことで、トラフィックの無駄をなくす。  
  
  
### 5. ネットワーク層
スイッチが、すべての端末のMACアドレスを覚えることは大変非効率であり、無駄が多い。  
そこで、IPアドレスがある。インターネット上の特定の端末を識別するための識別子である。  
  
NICに対して、OSが割り当てるもの。   
MACアドレスが物理アドレスといわれる代わりに、IPアドレスは論理アドレスともいわれる。  
  
```
IPアドレス(ここではIPv4とする)は32ビットで構成される。
10進数で表記され、1Byte(8ビット)の4オクテットとして、0.0.0.0 ~ 255.255.255.255の範囲で表す。

ex) LANのある特定のホストに割り当てられる
192.168.0.1/24

ここでいう/24は、IPアドレスとは別に「サブネットマスク」という。
そもそもIPアドレスは、「ネットワーク部」と「ホスト部」に分けられる。

ネットワーク部　：特定のネットワークを識別するための識別子
ホスト部　　　　：特定のホストを識別するための識別子

サブネットマスクは、この「ネットワーク部」と「ホスト部」を区切るための値。
サブネットマスクは、CIDR表記(/N)と2進数表記がある。
2進数表記の場合は以下。
IPアドレス　　　　： 192.168.0.1
サブネットマスク　： 11111111.11111111.11111111.00000000 (CIDRでは/24)

IPアドレスは、さらに以下の分類に以下に分類される。
ネットワークアドレス　　　： サブネットマスクとIPアドレスの論理積
ブロードキャストアドレス　： ホスト部のIPアドレスをすべて「1」としたIPアドレス
ホストアドレス　　　　　　： ホストに一意に割りあてられるアドレス(2^n-2個, n = 32 - サブネットマスクの「1」の桁数)
ネットワークアドレスとブロードキャストアドレスは、ホストに割り当て不可能。

ex) 192.168.0.N/24 (0 <= n <= 255)
ネットワークアドレス　　　： 192.168.0.0
ブロードキャストアドレス　： 192.168.0.255
ホストアドレス　　　　　　： 192.168.0.1 ~ 192.168.0.254 (254ホスト = 2^8-2)

```  
  
IPアドレスは、さらに以下の2種類に割り当てられる。  
- グローバルIPアドレス
- ローカルIPアドレス

これらの区分は、「IPv4の枯渇問題の解消」を目的としている。  
インターネットに接続するデバイスが増え続けることで、割り当てられるIPv4アドレスがない。  
IPv4アドレスを集約するIPアドレスとしてローカルIPアドレスを用意できる。
  
企業や家庭などの一般的な利用では、ISP(インターネット・サービス・プロバイダ)と契約して  
グローバルIPアドレスを取得する。  
  
  
```
ローカルIPアドレスについて

クラスA： 10.0.0.0 ~ 10.255.255.255 /8
クラスB： 172.16.0.0 ~ 172.31.255.255 /16
クラスC： 192.168.0.0 ~ 192.168.255.255 /24

クラス区分は、現代のクラスレスなネットワークは気にしなくてもよいが歴史的経緯としておぼえておくとよい。
なお、説明は割愛させてもらう。(クラスレスなサブネットの構築に大変重要ではあるが)

一応、大規模・中規模・小規模程度の感覚で使用するとおぼえておくとよい。
企業ネットワーク(イントラネット)においては、ほとんどクラスAを利用する。

```
